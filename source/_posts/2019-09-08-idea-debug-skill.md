---
layout: post
title: IDEA Debug调试小技巧
categories: Tools
description: IDEA Debug调试小技巧
index_img: 
date: 2019-09-08 09:09:09
tags: [IDEA]
---
# 一、多线程调试断点

`Intellij IDEA` 的`debug`断点调试是有一个模式的选择的，就像下面这张图，平时我们都使用的是默认的 `ALL`（在`Eclipse`中默认是线程模式） ，这种模式我们只能将一个线程断下来，但其他线程却已经执行过了；而将其改为 `Thread` 后，就可以多个线程都断下来，并且可以很方便的切换线程的执行流程，这就是多线程调试。

![](https://img.itgo.ml/img/20191009091934.png)

在`debug`控制台能够很方便的查看线程的执行状态，也可以很方便的选择某个线程去执行：

![](https://img.itgo.ml/img/20191009091917.png)

# 二、回退断点

不知道大伙有没有遇到这样一个问题，当我们进行`debug`时，通常不会进入某个方法一步一步的执行，而是选择性的跳过；当你想要回头观察某个变量的值得变化时，而你刚好没有跟进去，跳过了这个方法，这个时候，变量就被赋值了，我们通常的做法是重来一次。

其实IDEA的调试功能是非常强大的，我们来看看熟悉的调试窗口：

![](https://img.itgo.ml/img/20191009091903.png)

使用红色框框出来的部分，表示当前程序执行到哪一块，哪一部分，你可以尝试用鼠标点点看，你会发现编辑器会跳转到对应的代码中，当然当前断点的位置通常会在列表的第一条。然后我们使用右键单击，你就可以看到如下图所示：

![](https://img.itgo.ml/img/20191009091836.png)

或者你也可以在下图中找到 `Drop Frame`：

![](https://img.itgo.ml/img/20191009091817.png)

在IDEA中，所谓的回退，叫 `Drop Frame`，选择`Drop Frame`后，程序会跳转回调用**当前这个方法**的地方，当然已经改变的值是不会恢复的。但是当该方法再次被调用时，你可以观察到某个变量什么时候被改变，至少我们不用再去重新运行一遍程序。

# 三、条件断点

条件断点就是当满足某个条件（通常是表达式）时，`debug`断点才会生效；这在循环中`debug`是非常有用的；例如我们想要在循环体中调试：当某个变量满足某个条件时，需要断点调试，来查看详细的执行流程及变化情况。

我们说过，`IDEA`中的`debug`功能是非常强大的，要使用条件断点也非常简单，下面这张图片中 `Condition`中的内容代表当`name`为`eamon:23`时，程序执行到断点处停下来。

![](https://img.itgo.ml/img/20191009091749.png)

有了条件断点，这样一来，那些不相关和我们不关心的代码就可以直接跳过了。

# 四、临时断点

所谓临时断点就是只断一次，`IDEA`默认断点会一致存在。如果你只需要暂停一次，那么使用临时断点会比较方便，因为暂停一次之后断点就自动消失了，不用手动取消。

临时断点可以通过在打断点时按住 `Alt` 或者 `option` 键，然后创建断点。也可以通过右键断点处，选择 `more` 然后在窗口中选中 `Remove once hit`

![](https://img.itgo.ml/img/20191009091725.png)

![](https://img.itgo.ml/img/20191009091702.png)

# 五、求值计算

求值计算功能在我们`debug`过程中，可以很方便的查看程序中所有变量的值，也可以临时修改程序中变量的值，这个功能能在一定程度上辅助我们进行代码调试。

这个功能可以在`debug`时在`debug`窗口打开：

![](https://img.itgo.ml/img/20191009091640.png)

打开后是这样的：

![](https://img.itgo.ml/img/20191009091623.png)

然后你就可以在表达式输入框中，输入你想要的操作，比如，查看变量、修改变量（临时的）、调用某个方法等；这些操作结果将会在下方的`Result` 窗口中输出。

![](https://img.itgo.ml/img/20191009091519.png)
